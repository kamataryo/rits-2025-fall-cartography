<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vote Client Library Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        .test-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }

        .test-section h2 {
            margin-top: 0;
            color: #333;
        }

        .description {
            color: #666;
            margin-bottom: 20px;
            font-style: italic;
        }

        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }

        .status.connecting {
            background: #fff3cd;
            color: #856404;
        }

        .status.connected {
            background: #d4edda;
            color: #155724;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
        }

        code {
            background: #f1f1f1;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
    </style>
</head>
<body>
    <h1>Vote Client Library Test</h1>
    <p>このページは投票クライアントライブラリのテスト用です。</p>

    <div class="test-section">
        <h2>1. 自由テキスト投票</h2>
        <div class="description">
            自由にテキストを入力して投票します。投票結果はリアルタイムでチャートに表示されます。
        </div>
        <form is="vote-form" vote-key="test-free-text">
            <div style="margin-bottom: 10px;">
                <label for="content1">投票内容:</label><br>
                <input type="text" name="content" id="content1" placeholder="自由に入力してください" style="width: 300px; padding: 5px;">
            </div>
            <button type="submit" style="padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">投票する</button>
        </form>
    </div>

    <div class="test-section">
        <h2>2. 選択肢投票（ラジオボタン）</h2>
        <div class="description">
            選択肢から1つを選んで投票します。
        </div>
        <form is="vote-form" vote-key="test-radio-choice">
            <div style="margin-bottom: 10px;">
                <label>好きな色を選んでください:</label><br>
                <input type="radio" name="choice" value="赤" id="red"> <label for="red">赤</label><br>
                <input type="radio" name="choice" value="青" id="blue"> <label for="blue">青</label><br>
                <input type="radio" name="choice" value="緑" id="green"> <label for="green">緑</label><br>
                <input type="radio" name="choice" value="黄" id="yellow"> <label for="yellow">黄</label>
            </div>
            <button type="submit" style="padding: 8px 16px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">投票する</button>
        </form>
    </div>

    <div class="test-section">
        <h2>3. 複数選択投票（チェックボックス）</h2>
        <div class="description">
            複数の選択肢を選んで投票します。
        </div>
        <form is="vote-form" vote-key="test-checkbox-choice">
            <div style="margin-bottom: 10px;">
                <label>好きなプログラミング言語を選んでください（複数選択可）:</label><br>
                <input type="checkbox" name="choices" value="JavaScript" id="js"> <label for="js">JavaScript</label><br>
                <input type="checkbox" name="choices" value="Python" id="python"> <label for="python">Python</label><br>
                <input type="checkbox" name="choices" value="Java" id="java"> <label for="java">Java</label><br>
                <input type="checkbox" name="choices" value="TypeScript" id="ts"> <label for="ts">TypeScript</label><br>
                <input type="checkbox" name="choices" value="Go" id="go"> <label for="go">Go</label>
            </div>
            <button type="submit" style="padding: 8px 16px; background: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer;">投票する</button>
        </form>
    </div>

    <div class="test-section">
        <h2>4. カスタムチャート付き投票</h2>
        <div class="description">
            事前にcanvas要素を配置した投票フォームです。
        </div>
        <form is="vote-form" vote-key="test-custom-chart">
            <div style="margin-bottom: 10px;">
                <label for="content4">質問: 今日の気分はいかがですか？</label><br>
                <input type="text" name="content" id="content4" placeholder="気分を入力してください" style="width: 300px; padding: 5px;">
            </div>
            <button type="submit" style="padding: 8px 16px; background: #6f42c1; color: white; border: none; border-radius: 4px; cursor: pointer;">投票する</button>
            <div style="margin-top: 20px; height: 300px;">
                <canvas id="custom-chart" style="max-width: 100%; max-height: 100%;"></canvas>
            </div>
        </form>
    </div>

    <div class="test-section">
        <h2>使用方法</h2>
        <ol>
            <li>WebSocketサーバーがデプロイされていることを確認</li>
            <li>ブラウザの開発者ツールでコンソールを開く</li>
            <li>各フォームで投票を試す</li>
            <li>リアルタイムでチャートが更新されることを確認</li>
            <li>複数のブラウザタブで開いて、ブロードキャスト機能を確認</li>
        </ol>

    <!-- クライアントライブラリを読み込み -->
    <!-- <script src="https://g69ye6vo2a.execute-api.ap-northeast-1.amazonaws.com/v1//client/vote-client.min.js"></script> -->
    <script src="./dist/vote-client.js"></script>
</body>
</html>
