---
marp: true
theme: cartography
class: title
paginate: true
---

<!-- _class: title -->

# MapLibre GL JS と OpenStreetMap で始めるウェブカートグラフィ入門

## 第1回：地図とウェブカートグラフィの基礎

立命館大学 2025年度秋学期
授業時間：85分

---

## 本日のアジェンダ

1. **自己紹介・授業概要** (10分)
2. **地図とは何か？** (15分)
3. **ウェブで用いられる地図アプリのオーバービュー** (25分)
4. **授業の全体像と使用ツールの紹介** (20分)
5. **実習環境の確認** (10分)
6. **課題説明** (5分)

---

## 授業概要

### 授業名
**MapLibre GL JS と OpenStreetMap で始めるウェブカートグラフィ入門**

### 目標
- 現代のウェブ地図技術を理解する
- インタラクティブな地図アプリケーションを作成できるようになる
- オープンソースの地図データとツールを活用できるようになる

---

## 地図とは何か？

### 地図の定義
> 地図とは、地球表面の一部または全部を、一定の約束に従って平面上に縮小して表現したもの

### 地図の要素
- **位置情報**：緯度・経度による座標系
- **縮尺**：実際の距離と地図上の距離の比
- **投影法**：球面を平面に変換する方法
- **記号化**：現実世界の情報を視覚的に表現

---

## デジタル地図の進化

### 紙地図からデジタル地図へ

| 時代 | 特徴 | 例 |
|------|------|-----|
| 紙地図時代 | 静的、印刷物 | 道路地図、地形図 |
| CD-ROM時代 | デジタル化、検索可能 | MapFan、ProAtlas |
| Web地図時代 | オンライン、リアルタイム更新 | Google Maps、Yahoo!地図 |
| モバイル地図時代 | GPS連携、位置情報サービス | スマートフォンアプリ |
| **現在** | **インタラクティブ、カスタマイズ可能** | **WebGL、3D表示** |

---

## ウェブで用いられる地図アプリのオーバービュー

### 主要な地図サービス

#### 1. Google Maps
- **特徴**：世界最大のユーザー数、豊富なPOI情報
- **技術**：独自のタイル配信システム
- **API**：Google Maps JavaScript API
- **ライセンス**：商用利用は有料

---

#### 2. OpenStreetMap (OSM)
- **特徴**：オープンソース、コミュニティ主導
- **技術**：オープンデータ、自由に利用可能
- **API**：多数のライブラリが利用可能
- **ライセンス**：ODbL（Open Database License）

![OSM Logo](https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Openstreetmap_logo.svg/256px-Openstreetmap_logo.svg.png)

---

#### 3. Mapbox
- **特徴**：カスタマイズ性の高いデザイン
- **技術**：Vector tiles、WebGL
- **API**：Mapbox GL JS
- **ライセンス**：フリーミアム（一定利用量まで無料）

#### 4. その他の地図サービス
- **Apple Maps**：iOS標準
- **Bing Maps**：Microsoft提供
- **HERE Maps**：自動車業界で強い
- **国土地理院地図**：日本の公的地図

---

## ウェブ地図の技術的分類

### 1. ラスタータイル方式
- **仕組み**：事前に生成された画像タイルを配信
- **メリット**：表示が高速、サーバー負荷が軽い
- **デメリット**：カスタマイズが困難、データ量が大きい
- **例**：従来のGoogle Maps、OpenStreetMap標準タイル

### 2. ベクタータイル方式
- **仕組み**：ベクターデータをクライアント側で描画
- **メリット**：高解像度対応、リアルタイムスタイリング
- **デメリット**：クライアント側の処理負荷が高い
- **例**：Mapbox、MapLibre GL JS

---

## 現代のウェブ地図の特徴

### インタラクティブ性
- **ズーム・パン**：スムーズな操作
- **レイヤー切り替え**：用途に応じた表示
- **ポップアップ**：詳細情報の表示
- **検索機能**：住所・施設名での検索

### リアルタイム性
- **交通情報**：渋滞・事故情報
- **位置情報**：GPS連携
- **ライブデータ**：天気・災害情報

---

### カスタマイズ性
- **スタイリング**：色・フォント・アイコンの変更
- **データ統合**：独自データの重ね合わせ
- **機能拡張**：プラグインによる機能追加

### 3D・AR対応
- **3D建物表示**：立体的な都市景観
- **地形表示**：標高データの可視化
- **AR連携**：現実世界との重ね合わせ

---

## 授業の全体像

### 14回の授業構成

| 回 | テーマ | 内容 |
|----|--------|------|
| 1 | 地図とウェブカートグラフィの基礎 | 本日の内容 |
| 2 | OpenStreetMapの理解 | OSMデータ構造、編集方法 |
| 3 | MapLibre GL JSの基礎 | 基本的な地図表示 |
| 4 | 地図のスタイリング | カスタムスタイルの作成 |
| 5 | データの可視化 | GeoJSONデータの表示 |

---

| 回 | テーマ | 内容 |
|----|--------|------|
| 6 | インタラクション機能 | クリック・ホバーイベント |
| 7 | レイヤーとフィルタリング | データの動的表示制御 |
| 8 | 3D表現と地形表示 | 立体的な地図表現 |
| 9 | アニメーションと時系列データ | 動的な可視化 |
| 10 | 位置情報とGPS | モバイル対応 |

---

| 回 | テーマ | 内容 |
|----|--------|------|
| 11 | 外部データとの連携 | API統合 |
| 12 | パフォーマンス最適化 | 高速化技術 |
| 13 | 実践プロジェクト | 総合演習 |
| 14 | 発表・まとめ | 成果発表 |

---

## 使用ツールの紹介

### 1. MapLibre GL JS
- **概要**：オープンソースのWebGL地図ライブラリ
- **特徴**：
  - Mapboxからフォークされた完全オープンソース
  - 商用利用も無料
  - 高性能なベクタータイル表示
  - 豊富なカスタマイズオプション

```javascript
// MapLibre GL JSの基本的な使用例
import maplibregl from 'maplibre-gl';

const map = new maplibregl.Map({
  container: 'map',
  style: 'https://demotiles.maplibre.org/style.json',
  center: [135.5, 34.7], // 大阪
  zoom: 10
});
```

---

### 2. OpenStreetMap (OSM)
- **概要**：世界最大のオープンソース地図プロジェクト
- **特徴**：
  - 誰でも編集可能
  - 商用利用可能
  - 豊富な属性情報
  - 世界中のコミュニティが維持

<div class="note">

**OSMの哲学**
「地図は誰のものでもない。みんなのものである。」

</div>

---

### 3. 開発環境
- **エディタ**：Visual Studio Code
- **ブラウザ**：Chrome/Firefox（開発者ツール使用）
- **バージョン管理**：Git/GitHub
- **パッケージマネージャー**：npm/yarn
- **ビルドツール**：Vite/Webpack

### 4. データ形式
- **GeoJSON**：地理空間データの標準形式
- **Vector Tiles**：効率的な地図データ配信
- **Raster Tiles**：画像ベースの地図タイル

---

## 実習環境の確認

### 必要なソフトウェア
1. **Node.js** (v16以上)
2. **Visual Studio Code**
3. **Git**
4. **モダンブラウザ** (Chrome/Firefox/Safari)

### 環境セットアップ
```bash
# Node.jsのバージョン確認
node --version

# 新しいプロジェクトの作成
mkdir my-map-app
cd my-map-app
npm init -y

# MapLibre GL JSのインストール
npm install maplibre-gl
```

---

## 今後の学習のポイント

### 技術的スキル
- **JavaScript**：ES6+の文法
- **HTML/CSS**：レスポンシブデザイン
- **地理空間データ**：座標系、投影法の理解
- **API連携**：RESTful API、WebSocket

### 地図学的知識
- **地図投影法**：メルカトル図法、正距方位図法など
- **座標系**：WGS84、JGD2011など
- **地図記号**：国際標準、日本の慣例

---

## ウェブカートグラフィの応用分野

### 1. 都市計画・まちづくり
- 人口分布の可視化
- 交通流動の分析
- 土地利用の変遷

### 2. 防災・危機管理
- ハザードマップ
- 避難経路の案内
- リアルタイム災害情報

### 3. ビジネス・マーケティング
- 商圏分析
- 店舗配置の最適化
- 配送ルートの効率化

---

### 4. 観光・文化
- 観光ルートの提案
- 文化財の位置情報
- バーチャルツアー

### 5. 環境・気候
- 気象データの可視化
- 環境モニタリング
- 生態系の分析

### 6. 交通・物流
- リアルタイム交通情報
- 公共交通の案内
- 物流の最適化

---

<div class="assignment">

## 課題：興味のある地図を1つ選び、特徴を調査する

### 課題内容
以下のいずれかの地図サービス・アプリケーションを選び、その特徴を調査してレポートを作成してください。

**対象地図サービス例：**
- Google Maps / Google Earth
- OpenStreetMap
- Mapbox
- 国土地理院地図
- Yahoo!地図
- Apple Maps
- その他（事前に相談）

</div>

---

<div class="assignment">

### 調査項目
1. **基本情報**
   - サービス名、提供会社
   - 開始年、主な利用者層

2. **技術的特徴**
   - 使用している技術（ラスター/ベクター、3D対応など）
   - データソース
   - API提供の有無

3. **機能・特徴**
   - 主要な機能
   - 他サービスとの差別化ポイント
   - 得意分野・用途

</div>

---

<div class="assignment">

4. **ユーザビリティ**
   - 操作性の評価
   - デザインの特徴
   - アクセシビリティへの配慮

5. **ビジネスモデル**
   - 収益構造
   - ライセンス形態
   - 利用制限

6. **個人的な評価**
   - 良い点・改善点
   - 他サービスとの比較
   - 今後の可能性

</div>

---

<div class="assignment">

### 提出要項
- **形式**：A4用紙2-3枚程度のレポート（PDF形式）
- **提出期限**：次回授業開始時
- **提出方法**：学習管理システム経由
- **評価基準**：
  - 調査の深さ・正確性（40%）
  - 分析・考察の質（40%）
  - 文章構成・表現力（20%）

### 参考資料
- 各サービスの公式ドキュメント
- 技術ブログ・記事
- 学術論文（必要に応じて）

</div>

---

## 次回予告

### 第2回：OpenStreetMapの理解
- OSMの歴史と哲学
- データ構造（ノード、ウェイ、リレーション）
- タグシステムの理解
- 編集方法の実習
- OSMデータの取得・活用方法

### 準備事項
- OpenStreetMapアカウントの作成
- JOSMエディタのインストール（推奨）

---

## 質疑応答

### 本日の内容について
- 地図・ウェブカートグラフィに関する質問
- 授業の進め方について
- 課題に関する質問

### 連絡先
- **メール**：[教員メールアドレス]
- **オフィスアワー**：[曜日・時間]
- **研究室**：[場所]

---

<!-- _class: title -->

# ありがとうございました

## 次回もよろしくお願いします

**第2回：OpenStreetMapの理解**
[日時・教室]

課題の提出をお忘れなく！
